<!DOCTYPE html>
<html lang="en" xmlns:th="https://www.thymeleaf.org">

<th:block th:replace="general.html :: headerfiles"></th:block>

<body>

  <div th:replace="general.html :: navbar"></div>

  <div class="content-wrapper" style="margin-left: 0px;">

    <div class="content-header">
      <div class="container-fluid">
        <div class="row mb-2">
          <div class="col-sm-12">
            <h1 class="m-0 text-dark">Grafik</h1>
          </div>
        </div>
      </div>
    </div>

    <section class="content">
      <div class="container-fluid">
        <div class="row">
          <div class="col-md-6">
            <div class="card">
              <div class="card-header">
                <a class="btn btn-primary btn-sm" th:href="@{/admin/graph/{id}/add(id=${graphMeta.id})}"><i
                    class="fas fa-plus mr-1"></i>Tambah</a>
              </div>

              <div class="card-body">
                <table class="table table-bordered">
                  <thead>
                    <tr>
                      <th style="width: 25px">Tahun</th>
                      <th style="width: 20px">Nilai</th>
                      <th style="width: 15px">Aksi</th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr th:each="graph : ${graphs}">
                      <td th:text="${graph.year}">2020</td>
                      <td th:text="${graph.value}">78.8</td>
                      <td>
                        <a class="btn btn-info btn-sm"
                          th:href="@{/admin/graph/{id}/edit/{dataId}(id=${graphMeta.id},dataId=${graph.id})}"><i
                            class="fas fa-pencil-alt mr-1"></i>Edit</a>
                        <button type="button" class="btn btn-danger btn-sm"
                          th:attr=" data-idx=${graph.id}, data-id=${graphMeta.id}" data-toggle="modal"
                          data-target="#modal-delete"><i class="fas fa-trash mr-1"></i>Delete</button>
                      </td>
                    </tr>
                  </tbody>
                </table>
              </div>
            </div>
          </div>

          <div class="col-md-6">
            <div class="card">
              <div class="card-header">
                <a class="btn btn-info btn-sm" th:href="@{/admin/graph/{id}/meta/edit(id=${graphMeta.id})}"><i
                    class="fas fa-pencil-alt mr-1"></i>Edit</a>
              </div>

              <div class="card-body">
                <div class="container">
                  <div class="row">
                    <div class="col-md-6">
                      <strong>Judul</strong>
                      <p class="text-muted" th:text="${graphMeta.title}">Indeks Pembangunan Manusia</p>
                      
                      <strong>Subjek</strong>
                      <p class="text-muted" th:text="${graphMeta.subject.name}">1</p>
                      
                      <strong>Vertikal</strong>
                      <p class="text-muted" th:text="${graphMeta.vertical}">Indeks Pembangunan Manusia</p>
                      
                      <strong>Unit Vertikal</strong>
                      <p class="text-muted" th:text="${graphMeta.verticalUnit}">Persen</p>
                      
                      <strong>Horizontal</strong>
                      <p class="text-muted" th:text="${graphMeta.horizontal}">Indeks Pembangunan Manusia</p>
                      
                    </div>
                    <div class="col-md-6">
                      <strong>Deskripsi</strong>
                      <p class="text-muted" th:text="${graphMeta.description}">
                        Menurut UNDP, Indeks Pembangunan Manusia (IPM) mengukur
                        capaian pembangunan manusia berbasis sejumlah komponen dasar
                        kualitas hidup. Sebagai ukuran kualitas hidup, IPM dibangun
                        melalui pendekatan tiga dimensi dasar. Dimensi tersebut
                        mencakup umur panjang dan sehat; penegtahuan, dan kehidupan
                        yang layak. Angka IPM memberikan gambaran komprehensip
                        mengenai tingkat pencapaian pembagunan manusia sebagai
                        dampak dari kegiatan pembangunan yang akan dilakukan oleh
                        suatu negara/daerah. Semakin tinggi nilai IPM suatu
                        negara/daerah, menunjukkan pencapaian pembangunan manusianya
                        semakin baik
                      </p>
                      
                    </div>
                  </div>
                </div>


              </div>
            </div>
          </div>
        </div>
      </div>

      <div class="modal fade" id="modal-delete">
        <div class="modal-dialog">
          <div class="modal-content">
            <div class="modal-header">
              <h4 class="modal-title">Konfirmasi Delete</h4>
              <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                <span aria-hidden="true">&times;</span>
              </button>
            </div>
            <div class="modal-body text-center">
              <p>Hapus data?</p>
            </div>
            <div class="modal-footer justify-content-between">
              <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
              <a class="btn btn-danger" id="delete-confirm">Delete</a>
            </div>
          </div>
          <!-- /.modal-content -->
        </div>
        <!-- /.modal-dialog -->
      </div>

    </section>

  </div>

  <div th:replace="general.html :: footer"></div>

  <div th:replace="general.html :: javascripts"></div>

  <script>

    $('#modal-delete').on('show.bs.modal', function (event) {
      console.log("modal default");
      var idx = $(event.relatedTarget).data('idx');
      var id = $(event.relatedTarget).data('id');
      $(this).find("#delete-confirm").attr("href", "/admin/graph/" + id + "/delete/" + idx);
    });

  </script>
</body>

</html>